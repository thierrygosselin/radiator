<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RADseq Genomics in R • radiator</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="RADseq Genomics in R">
<meta property="og:description" content="radiator">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">radiator</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Installation</a>
</li>
<li>
  <a href="../articles/get_started.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/rad_genomics_computer_setup.html">Computer setup - Installation - Troubleshooting</a>
    </li>
    <li>
      <a href="../articles/life_cycle.html">Life cycle</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/thierrygosselin/radiator" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>RADseq Genomics in R</h1>
            <h3 data-toc-skip class="subtitle">computer setup</h3>
            
            <h4 data-toc-skip class="date">2024-04-23</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/thierrygosselin/radiator/blob/HEAD/vignettes/rad_genomics_computer_setup.Rmd" class="external-link"><code>vignettes/rad_genomics_computer_setup.Rmd</code></a></small>
      <div class="hidden name"><code>rad_genomics_computer_setup.Rmd</code></div>

    </div>

    
    
<p><strong>Time to allow: ETA ~30-45 min for experience users, 1h-2h for
novices</strong></p>
<p>This vignette purposes is to show users how to setup their computers
for RADseq genomic analysis inside R. It targets users of my packages or
workshops.</p>
<p>The vignette as an <code>Installation problems</code> section, browse
through it if your experiencing installation issues.</p>
<p>The vignette is also usefull if your:</p>
<ul>
<li>conducting imputations</li>
<li>using simulations with <code>grur</code> and it’s dependencies or
simulations with <code>strataG</code>.</li>
<li>specific installation instructions for:</li>
<li><code>rmetasim</code></li>
<li><code>XGBoost</code></li>
<li><code>LightGBM</code></li>
<li><code>randomForestSRC</code></li>
<li><code>ranger</code></li>
<li><code>missRanger</code></li>
<li><code>pcaMethods</code></li>
<li>how to have <strong>OpenMP enabled</strong> specific packages. R
packages that requires to run in parallel for the imputations
(e.g. <code>fstcore</code>, <code>fst</code>,
<code>data.table</code>).</li>
</ul>
<p>I’m currently merging information also found in this <a href="http://gbs-cloud-tutorial.readthedocs.io/en/latest/03_computer_setup.html" class="external-link">tutorial</a></p>
<div class="section level2">
<h2 id="macos">macOS<a class="anchor" aria-label="anchor" href="#macos"></a>
</h2>
<p><strong>Warning: package management software <em>Homebrew</em> and/or
<em>MacPorts</em> :</strong></p>
<p>My experience with these packages is that at some point they will be
unreliable with genomic software installation. It might do the trick for
some software, but eventually you will lose a lot of time trying to
figure out what’s your problem.</p>
<p>In this vignette I present <em>brewless</em> options only.</p>
<div class="section level3">
<h3 id="update-your-os">Update your OS<a class="anchor" aria-label="anchor" href="#update-your-os"></a>
</h3>
<ul>
<li>the current version is macOS Ventura 13.0</li>
<li><a href="http://support.apple.com/kb/HT1338?viewlocale=en_US&amp;locale=en_US" class="external-link">how
to update</a></li>
</ul>
</div>
<div class="section level3">
<h3 id="get-administrator-and-root-user-access">Get administrator and root user access<a class="anchor" aria-label="anchor" href="#get-administrator-and-root-user-access"></a>
</h3>
<p>Make sure you have administrator and root user access to your
computer <a href="https://support.apple.com/en-ca/HT204012" class="external-link">how</a>.</p>
</div>
<div class="section level3">
<h3 id="apples-command-line-tools">Apple’s Command Line Tools<a class="anchor" aria-label="anchor" href="#apples-command-line-tools"></a>
</h3>
<p>Make sure it’s installed…if not, follow instructions. Although the
prompt message may be a bit confusing, just click
<strong>install</strong>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">xcode-select</span> <span class="at">--install</span></span></code></pre></div>
<p><strong>Notes:</strong></p>
<ul>
<li>If command line tools is already installed you’ll get this message
<code>xcode-select: error: command line tools are already installed, use "Software Update" to install updates</code>
</li>
<li>to test if you have a compiler, you can also type: <code>make</code>
in the terminal, if it’s installed you will have something similar to
this
<code>*** No targets specified and no makefile found.  Stop.</code>
</li>
</ul>
<p><strong>Terminology:</strong></p>
<ul>
<li>
<a href="https://thoughtbot.com/blog/the-magic-behind-configure-make-make-install" class="external-link">Reading</a>:
to understand the basic steps to install software with the terminal
(<em>configure</em>, <em>make</em> and <em>sudo make install</em>
steps)</li>
<li>
<code>./configure</code>: configure everything before
installation</li>
<li>
<code>make</code>: connect libraries and the source before make
install (<a href="http://www.gnu.org/software/make/manual/make.html" class="external-link">doc</a>)</li>
<li>
<code>make install</code>: use to build (compile) source code to
create binary files and install the application on our system as
configured using <code>./configure</code>, usually in
<code>/usr/local/bin</code>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="compiler">Compiler<a class="anchor" aria-label="anchor" href="#compiler"></a>
</h3>
<p>Apple can’t ship GNU <a href="http://en.wikipedia.org/wiki/Compiler" class="external-link">Compiler</a> Collection
(GCC) with OpenMP enabled, similar story with <a href="http://en.wikipedia.org/wiki/Clang" class="external-link">Clang</a> the other compiler
used in macOS. Consequently, both need to be updateed manually if you
want to run software that ues parallel computing (like stacks).</p>
<p>The command below fro both GCC and Clang will:</p>
<ul>
<li>change directory to your downloads</li>
<li>download the compiler’s binaries</li>
<li>uncompress and move folders (<code>bin</code>, <code>include</code>,
<code>lib</code>, <code>libexec</code> and <code>share</code>) of the
compiler on your computer <code>/usr/local</code> directory.</li>
<li>remove the downloaded file</li>
<li>check the version of gcc</li>
</ul>
<div class="section level4">
<h4 id="update-gcc">Update GCC<a class="anchor" aria-label="anchor" href="#update-gcc"></a>
</h4>
<p>Choose the binary version number based on your OS and change the
version accordingly <a href="http://hpc.sourceforge.net" class="external-link">link</a>.</p>
<p><strong>Ventura and Monterey</strong> <a href="http://prdownloads.sourceforge.net/hpc/gcc-11.2-bin.tar.gz" class="external-link">gcc-11.2-bin.tar.gz</a></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co">#In Terminal</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="bu">cd</span> Downloads</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="fu">sudo</span> tar <span class="at">-zxvf</span> gcc-11.2-bin.tar.gz <span class="at">-C</span> /usr/local <span class="at">--strip-components</span><span class="op">=</span>2</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">sudo</span> rm gcc-11.2-bin.tar.gz</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">gcc</span> <span class="at">-v</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="update-clang">Update Clang<a class="anchor" aria-label="anchor" href="#update-clang"></a>
</h4>
<p>We want <a href="https://en.wikipedia.org/wiki/Clang" class="external-link">clang</a>
compiler with OpenMP enabled. The latest version is <a href="https://github.com/llvm/llvm-project/releases/tag/llvmorg-15.0.3" class="external-link">15.0.3</a>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co">#In browser</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="ex">https://github.com/llvm/llvm-project/releases/download/llvmorg-15.0.3/clang+llvm-15.0.3-x86_64-apple-darwin.tar.xz</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co">#In Terminal</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="bu">cd</span> Downloads</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="fu">sudo</span> tar <span class="at">-xzvf</span> clang+llvm-15.0.3-x86_64-apple-darwin.tar.xz <span class="at">-C</span>/usr/local <span class="at">--strip-components</span><span class="op">=</span>1</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">sudo</span> rm clang+llvm-15.0.3-x86_64-apple-darwin.tar.xz</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="fu">clang</span> <span class="at">-v</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="path">PATH<a class="anchor" aria-label="anchor" href="#path"></a>
</h3>
<p>The shell start up script and PATH to programs**</p>
<p>To make things a little easier to talk to your computer, each time
you open the <em>Terminal</em> a <a href="http://en.wikipedia.org/wiki/Bash_(Unix_shell)" class="external-link">shell start up
scripts</a> tells your computer where to look for programs. The path for
your programs can be modified in your shell start up script. When your
computer is searching for programs, it looks into these <a href="http://en.wikipedia.org/wiki/PATH_(variable)" class="external-link">path</a>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="va">$PATH</span></span></code></pre></div>
<p>The output should look like this:
<code>/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin</code>. But
sometimes, it will also say: <code>No such file or directory</code> (no
worries, see below).</p>
<p>Use the <code>pwd</code> command to know exactly where you are!</p>
<p>The name of the shell startup file differs across platforms.
Depending on OS it is called <strong>~/.bash_profile</strong> and
sometimes <strong>~/.profile</strong>. Filename beginning with a dot “.”
are reserved for the system and are <strong>invisible</strong> in the
mac Finder.</p>
<p>Find your shell start up script with the following command:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-al</span> ~ <span class="kw">|</span> <span class="fu">grep</span> profile</span></code></pre></div>
<p>If this returns nothing (blank), you don’t have a shell start up
script. Create one with this command</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">sudo</span> touch <span class="va">$HOME</span>/.bash_profile</span></code></pre></div>
<p>To modify, you can use <a href="http://www.barebones.com/products/bbedit/index.html" class="external-link">BBEdit</a> to
open or make and modify hidden items (using the option <em>Show hidden
items</em> on the open file screen). Look for the free version. With
Linux, use Vi!</p>
<p>Copy/paste the line below in your <code>.bash_profile</code>
file:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="va">PATH</span><span class="op">=</span><span class="st">"</span><span class="va">$PATH</span><span class="st">:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"</span></span></code></pre></div>
<p>After modifying your shell start up script always run the command
<code>source ~/.bash_profile</code> to reload it.</p>
</div>
<div class="section level3">
<h3 id="useful-tools">Useful tools<a class="anchor" aria-label="anchor" href="#useful-tools"></a>
</h3>
<p>Below are useful but not essential software you will like to have on
your mac.</p>
<div class="section level4">
<h4 id="bbedit">
<a href="http://www.barebones.com/products/bbedit/index.html" class="external-link">BBEdit</a><a class="anchor" aria-label="anchor" href="#bbedit"></a>
</h4>
<p>This is TextWrangler replacement and is a free text editor that will
help you save time. Once installed, go in the
<code>Apple Menu bar -&gt; BBEdit -&gt; Install Command Line</code></p>
</div>
<div class="section level4">
<h4 id="pip">
<a href="https://pip.pypa.io/en/stable/" class="external-link">pip</a><a class="anchor" aria-label="anchor" href="#pip"></a>
</h4>
<p>This is a Python installer tool that I highly recommend. To install
or upgrade pip, securely download <a href="https://bootstrap.pypa.io/get-pip.py" class="external-link">get-pip.py</a>.</p>
<p>Run this from you Terminal:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="fu">sudo</span> python get-pip.py</span></code></pre></div>
<p>If you get <em>command not found</em> you might not have python
installed.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">pip</span> install <span class="at">-U</span> pip   <span class="co"># to upgrade</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> ~/Downloads/get-pip.py <span class="co"># to remove the downloaded file</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="linux">Linux<a class="anchor" aria-label="anchor" href="#linux"></a>
</h2>
<p>Make sure you have GCC and CLANG with OpenMP enabled. Several flavors
available, check for the proper <a href="http://releases.llvm.org/download.html" class="external-link">link</a></p>
</div>
<div class="section level2">
<h2 id="install-r">Install <a href="https://cran.r-project.org" class="external-link">R</a><a class="anchor" aria-label="anchor" href="#install-r"></a>
</h2>
<p>To install R v4.2.1 <strong>“Funny-Looking Kid”</strong> released on
2022-06-23 download the installer and follow the instructions</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co"># for macOS</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="bu">cd</span> Downloads</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-O</span> https://cran.r-project.org/bin/macosx/R-4.2.1.pkg</span></code></pre></div>
<p><strong>To remove R completely from macOS</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-rf</span> /Library/Frameworks/R.framework /Applications/R.app <span class="dt">\</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>/usr/bin/R /usr/bin/Rscript</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="rstudio">Rstudio<a class="anchor" aria-label="anchor" href="#rstudio"></a>
</h2>
<p>To download RStudio, check this <a href="https://www.rstudio.com/products/rstudio/download/#download" class="external-link">link</a>
and download the installer for your OS.</p>
</div>
<div class="section level2">
<h2 id="installing-libraries">Installing Libraries<a class="anchor" aria-label="anchor" href="#installing-libraries"></a>
</h2>
<p>Below is how I setup most of my computers after a clean macOS
install. 1. Start with <strong>devtools</strong> and
<strong>tidyverse</strong></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://devtools.r-lib.org/" class="external-link">"devtools"</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span> <span class="co"># to install</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>The gsl package is required by numerous packages and can cause some
headaches… Don’t install it from source.</li>
</ol>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"gsl"</span><span class="op">)</span></span></code></pre></div>
<p>If the console print this:
<code>Do you want to install from sources the package which needs compilation? (Yes/no/cancel)</code>.
Always aswer <strong>no</strong> unless of course you know what you are
doing.</p>
<ol start="3" style="list-style-type: decimal">
<li>Than, I install <strong>grur</strong> and <strong>assigner</strong>
my packges with the higher number of dependencies, this way it’s
installing automatically 90% of the packages I need (including
<strong>radiator</strong>).</li>
</ol>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"thierrygosselin/grur"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"thierrygosselin/assigner"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="makevars-file">Makevars file<a class="anchor" aria-label="anchor" href="#makevars-file"></a>
</h2>
<p>For some packages you might have to compile from source and the use
of different compiler is sometimes very useful. You need to tell R how
to use the compilers. This might change from one package to another.
Nothing is simple, you know this by now… All this is done through R’s
<strong>Makevars</strong> file located in
<code>~/.R/Makevars</code>.</p>
<p>To modify or create the file, the fastest way is to use the package
<a href="https://usethis.r-lib.org" class="external-link">usethis</a> (it’s installed
automatically with <code>devtools</code>):</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">edit_r_makevars</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><strong>Makevars content required:</strong></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="va">CC</span><span class="op">=</span>/usr/local/bin/gcc</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="va">CXX</span><span class="op">=</span>/usr/local/bin/g++</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="va">FC</span><span class="op">=</span>/usr/local/bin/gfortran</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a><span class="va">F77</span><span class="op">=</span>/usr/local/bin/gfortran</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a><span class="ex">PKG_LIBS</span> = <span class="at">-fopenmp</span> <span class="at">-lgomp</span></span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a><span class="va">PKG_CFLAGS</span><span class="op">=</span> <span class="ex">-O3</span> <span class="at">-Wall</span> <span class="at">-pipe</span> <span class="at">-pedantic</span> <span class="at">-std</span><span class="op">=</span>gnu99 <span class="at">-fopenmp</span></span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a><span class="va">PKG_CXXFLAGS</span><span class="op">=</span>-fopenmp <span class="ex">-std=c++11</span></span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a><span class="va">CFLAGS</span><span class="op">=</span> <span class="ex">-O3</span> <span class="at">-Wall</span> <span class="at">-pipe</span> <span class="at">-pedantic</span> <span class="at">-std</span><span class="op">=</span>gnu99 <span class="at">-fopenmp</span></span>
<span id="cb19-9"><a href="#cb19-9" tabindex="-1"></a><span class="ex">SHLIB_OPENMP_CFLAGS</span> = <span class="at">-fopenmp</span></span>
<span id="cb19-10"><a href="#cb19-10" tabindex="-1"></a><span class="ex">SHLIB_OPENMP_CXXFLAGS</span> = <span class="at">-fopenmp</span></span>
<span id="cb19-11"><a href="#cb19-11" tabindex="-1"></a><span class="ex">SHLIB_OPENMP_FCFLAGS</span> = <span class="at">-fopenmp</span></span>
<span id="cb19-12"><a href="#cb19-12" tabindex="-1"></a><span class="ex">SHLIB_OPENMP_FFLAGS</span> = <span class="at">-fopenmp</span></span>
<span id="cb19-13"><a href="#cb19-13" tabindex="-1"></a><span class="co"># change the nex line according to your computer compiler version (use gcc -v in terminal):</span></span>
<span id="cb19-14"><a href="#cb19-14" tabindex="-1"></a><span class="va">FLIBS</span><span class="op">=</span>-L/usr/local/lib/gcc/x86_64-apple-darwin19/9.2.0/finclude </span>
<span id="cb19-15"><a href="#cb19-15" tabindex="-1"></a><span class="va">CFLAGS</span><span class="op">=</span>-mtune=native <span class="ex">-g</span> <span class="at">-O2</span> <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-Wconversion</span></span>
<span id="cb19-16"><a href="#cb19-16" tabindex="-1"></a><span class="va">CXXFLAGS</span><span class="op">=</span>-mtune=native <span class="ex">-g</span> <span class="at">-O2</span> <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-Wconversion</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="Installation_problems">Errors and installation problems<a class="anchor" aria-label="anchor" href="#Installation_problems"></a>
</h2>
<p>Sometimes you’ll get warnings while installing dependencies required
for <em>x</em> package.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Warning: cannot remove prior installation of package ‘stringi’</span></span></code></pre></div>
<p>To solve this problem, delete manually the problematic package in the
installation folder (on mac:
<code>/Library/Frameworks/R.framework/Resources/library</code>) or in
the <code>Terminal</code>:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> /Library/Frameworks/R.framework/Resources/library/package_name</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="co"># Changing 'package_name' to the problematic package.</span></span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a><span class="co"># Reinstall the package.</span></span></code></pre></div>
<ul>
<li><p>Using the latest version of R, RStudio and packages is
recommended. If your heart start pounding just at the thought of having
to install a new R version, you should have a look at <a href="https://www.rstudio.com/resources/webinars/managing-package-dependencies-in-r-with-packrat/" class="external-link">packrat</a>.</p></li>
<li><p>Look at the output in R console when you get an error message. If
it’s related to one’s of the packages dependencies, try installing it
separately before attempting to reinstall the problematic
package.</p></li>
</ul>
<div class="section level3">
<h3 id="error-macos-big-sur-update">Error: macOS Big Sur update<a class="anchor" aria-label="anchor" href="#error-macos-big-sur-update"></a>
</h3>
<p>So far, I’ve only experience 1 problem after upgrading to Big Sur,
and it’s linked to <em>adegenet</em> dependency on <a href="https://r-spatial.github.io/sf/" class="external-link">sf</a> package <a href="#sfprob">(solution)</a>.</p>
</div>
<div class="section level3">
<h3 id="error-checking-whether-the-c-compiler-works-no">Error: checking whether the C++ compiler works… no<a class="anchor" aria-label="anchor" href="#error-checking-whether-the-c-compiler-works-no"></a>
</h3>
<p>When rtying to compile a software if you get this error:
<code>checking whether the C++ compiler works... no</code> or
<code>configure: error: C++ compiler cannot create executables</code></p>
<p>Try installing Xcode from the App Store.</p>
</div>
<div class="section level3">
<h3 id="error-https-not-supported">Error: “https” not supported<a class="anchor" aria-label="anchor" href="#error-https-not-supported"></a>
</h3>
<p>If you get something like:
<code>https not supported or disabled in libcurl</code>, install or
re-install:</p>
<p><a href="https://www.openssl.org" class="external-link">OpenSSL</a></p>
<p>Required if GCC compiler is used (TLS backend is then used). Not
required if clang is used (securetransport backend is used).</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="co">#In browser</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="ex">https://www.openssl.org/source/openssl-1.1.1.tar.gz</span></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a><span class="co">#In Terminal</span></span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-L</span> https://www.openssl.org/source/openssl-1.1.1.tar.gz <span class="kw">|</span> <span class="fu">tar</span> xf <span class="at">-</span></span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a><span class="bu">cd</span> openssl-1.1.1</span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a><span class="ex">./config</span></span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a><span class="fu">make</span> <span class="at">-j12</span> <span class="co">#change with your number of CPU</span></span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a><span class="fu">make</span> test <span class="co">#long</span></span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a><span class="fu">sudo</span> make install</span>
<span id="cb22-12"><a href="#cb22-12" tabindex="-1"></a><span class="bu">cd</span> ..</span>
<span id="cb22-13"><a href="#cb22-13" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> openssl<span class="pp">*</span></span></code></pre></div>
<p><a href="https://curl.haxx.se/download" class="external-link">curl</a></p>
<p>Check for the latest release of <a href="https://curl.haxx.se/download" class="external-link">curl</a></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="co">#Copy/paste in your browser</span></span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="ex">https://curl.haxx.se/download/curl-7.85.0.tar.gz</span></span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a><span class="co"># Terminal</span></span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a><span class="fu">tar</span> <span class="at">-zxvf</span> curl-7.85.0.tar.gz</span>
<span id="cb23-6"><a href="#cb23-6" tabindex="-1"></a><span class="bu">cd</span> curl-7.85.0</span></code></pre></div>
<p><em>for more </em>curl* option type <code>curl -h</code>*</p>
<p>The next step depends on the compiler used</p>
<p>With <strong>gcc</strong>:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">./configure</span> <span class="at">--with-ssl</span> <span class="co"># to enable https via OpenSSL and using GCC</span></span></code></pre></div>
<p>Note: with macOS 11.0.1 this give me an error
<code>configure: error: OpenSSL libs and/or directories were not found where specified!</code></p>
<p>If this is the case, use <strong>clang</strong>:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="va">CC</span><span class="op">=</span><span class="st">"/usr/local/bin/clang"</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="ex">./configure</span> <span class="at">--without-ssl</span> <span class="co">#--with-darwinssl # to install via clang</span></span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="fu">make</span> <span class="at">-j12</span> <span class="co">#change with your number of CPU</span></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a><span class="fu">sudo</span> make install</span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a><span class="bu">cd</span> ..</span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> curl<span class="pp">*</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="linux-related-problem">Linux related problem<a class="anchor" aria-label="anchor" href="#linux-related-problem"></a>
</h3>
<p>If you have an install problem, the problem might be very
computer-specific. e.g. if the problem is related to
<code>strataG</code>, <code>copula</code> and/or <code>gsl</code>, try
installing <code>libgsl0-dev</code> in the <strong>Terminal</strong>
(very easy now with the latest RStudio release!):</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="fu">sudo</span> apt-get install libgsl0-dev</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="Renviron">Error: <code>vector memory exhausted</code><a class="anchor" aria-label="anchor" href="#Renviron"></a>
</h3>
<p>For errors that highlight problems with vectors and memory similar
to: <code>vector memory exhausted (limit reached)</code>. In R, verify
that you have a file called <code>~/.Renviron</code>:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="st">"~/.Renviron"</span><span class="op">)</span></span></code></pre></div>
<p>If you don’t have the file:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="ex">require</span><span class="er">(</span><span class="ex">usethis</span><span class="kw">)</span></span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a><span class="fu">usethis::edit_r_environ()</span></span></code></pre></div>
<p>Add this to your <code>.Renviron</code> file located in
<code>~/.Renviron</code>:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">R_MAX_VSIZE</span> = 100Gb </span></code></pre></div>
<p>You can also use a text editor that allows you to see hidden files
(files starting with a <code>.</code> <em>dot</em>).</p>
</div>
<div class="section level3">
<h3 id="error-during-package-installation">Error during package installation<a class="anchor" aria-label="anchor" href="#error-during-package-installation"></a>
</h3>
<ul>
<li>Problem with <code>string.h</code>, <code>math.h</code> or any other
<code>.h</code>
</li>
<li>Problem with <code>vroom</code>
</li>
<li>Problem with <code>rmetasim</code>
</li>
</ul>
<p>An example during <code>vroom</code> installation:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="fu">clang</span>++ <span class="at">-std</span><span class="op">=</span>gnu++11 <span class="at">-I</span><span class="st">"/Library/Frameworks/R.framework/Resources/include"</span> <span class="at">-DNDEBUG</span>  <span class="at">-I</span><span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/Rcpp/include"</span> <span class="at">-I</span><span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/progress/include"</span> <span class="at">-I</span>/usr/local/include  <span class="at">-Imio</span>/include <span class="at">-DWIN32_LEAN_AND_MEAN</span> <span class="at">-Ispdlog</span>/include <span class="at">-fPIC</span>  <span class="at">-Wall</span> <span class="at">-g</span> <span class="at">-O2</span> <span class="at">-c</span> gen.cc <span class="at">-o</span> gen.o</span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="fu">clang</span>++ <span class="at">-std</span><span class="op">=</span>gnu++11 <span class="at">-I</span><span class="st">"/Library/Frameworks/R.framework/Resources/include"</span> <span class="at">-DNDEBUG</span>  <span class="at">-I</span><span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/Rcpp/include"</span> <span class="at">-I</span><span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/progress/include"</span> <span class="at">-I</span>/usr/local/include  <span class="at">-Imio</span>/include <span class="at">-DWIN32_LEAN_AND_MEAN</span> <span class="at">-Ispdlog</span>/include <span class="at">-fPIC</span>  <span class="at">-Wall</span> <span class="at">-g</span> <span class="at">-O2</span> <span class="at">-c</span> index_collection.cc <span class="at">-o</span> index_collection.o</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="ex">/usr/local/bin/clang</span> <span class="at">-I</span><span class="st">"/Library/Frameworks/R.framework/Resources/include"</span> <span class="at">-DNDEBUG</span>  <span class="at">-I</span><span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/Rcpp/include"</span> <span class="at">-I</span><span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/progress/include"</span> <span class="at">-I</span>/usr/local/include   <span class="at">-fPIC</span>  <span class="at">-I</span>/usr/local/include <span class="at">-c</span> localtime.c <span class="at">-o</span> localtime.o</span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a><span class="ex">localtime.c:42:10:</span> fatal error: <span class="st">'string.h'</span> file not found</span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a><span class="co">#include &lt;string.h&gt;</span></span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a><span class="ex">^~~~~~~~~~</span></span></code></pre></div>
<p><strong>With macOS</strong> : your <code>Makevars</code> needs
additional lines to make it work <a href="#Makevars_config">configuration</a>.</p>
</div>
<div class="section level3">
<h3 id="error--setmaxglobalsize">Error <code>.setMaxGlobalSize</code><a class="anchor" aria-label="anchor" href="#error--setmaxglobalsize"></a>
</h3>
<p>Its a problem with a previous version of <code>pbmcapply</code> and
it’s interaction with <code>future</code>.</p>
<p><strong>Solution:</strong></p>
<ul>
<li>restart your computer</li>
<li>with a clean desk and session: open RStudio and update your
packages</li>
<li>Restart R (<code>RStudio &gt; Session &gt; Restart R</code>)</li>
<li>Re-install my github package generating the error</li>
</ul>
<p><em>Note:</em> if your heart start pounding just at the thought of
having to update everything on your computer you should definitely have
a look at <a href="https://www.rstudio.com/resources/webinars/managing-package-dependencies-in-r-with-packrat/" class="external-link">packrat</a>:
it’s very easy to use.</p>
</div>
<div class="section level3">
<h3 id="error--dynamicclustercall">Error <code>.DynamicClusterCall</code><a class="anchor" aria-label="anchor" href="#error--dynamicclustercall"></a>
</h3>
<p>If you have a PC and you’re getting this error or closely related
error:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="co"># Error in .DynamicClusterCall(cl, length(cl), .fun = function(.proc_idx,  :</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="co"># One of the nodes produced an error: Can not open file 'FILE PATH'. The process cannot access the file because it # is being used by another process.</span></span></code></pre></div>
<p><strong>Solution:</strong> Use <code>parallel.core = 1</code> in the
function generating the error.</p>
</div>
<div class="section level3">
<h3 id="corrupt-packages">Corrupt packages<a class="anchor" aria-label="anchor" href="#corrupt-packages"></a>
</h3>
<p>The error below usually happens when several packages are
updated:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="co"># Error in get0(oNam, envir = ns) :</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a><span class="co"># lazy-load database '/Library/Frameworks/R.framework/Versions/3.5/Resources/library/callr/R/callr.rdb' is corrupt</span></span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a><span class="co"># In addition: Warning message:</span></span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a><span class="co"># In get0(oNam, envir = ns) : internal error -3 in R_decompress1</span></span></code></pre></div>
<p><strong>Solution:</strong></p>
<ol style="list-style-type: decimal">
<li>restart R</li>
<li>re-install the package that generated this error</li>
</ol>
</div>
<div class="section level3">
<h3 id="Dynload">Error: <code>dyn.load</code><a class="anchor" aria-label="anchor" href="#Dynload"></a>
</h3>
<p>I see 2 problems and separate solutions. When the error is related to
<em>adegenet</em>, <em>strataG</em>, <em>assigner</em> or packages that
depends on <a href="https://r-spatial.github.io/sf/" class="external-link">sf</a> package, <a href="#sfprob">see the solution below</a>.</p>
<p>When the error is similar to:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">Error</span> in dyn.load<span class="er">(</span><span class="fu">file</span>, DLLpath = DLLpath, ...<span class="kw">)</span> <span class="bu">:</span> </span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a>  <span class="ex">unable</span> to load shared object <span class="st">'/home/rstudio/R/x86_64-pc-linux-gnu-library/3.6/units/libs/units.so'</span>:</span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a>  <span class="ex">libudunits2.so.0:</span> cannot open shared object file: No such file or directory</span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a><span class="ex">Calls:</span> <span class="op">&lt;</span>Anonymous<span class="op">&gt;</span> ... asNamespace <span class="at">-</span><span class="op">&gt;</span> loadNamespace <span class="at">-</span><span class="op">&gt;</span> library.dynam <span class="at">-</span><span class="op">&gt;</span> dyn.load</span>
<span id="cb34-5"><a href="#cb34-5" tabindex="-1"></a><span class="ex">Execution</span> halted</span></code></pre></div>
<p><strong>Solution:</strong></p>
<ol style="list-style-type: decimal">
<li>In R, check the output of this command that look for the <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/EnvVar.html" class="external-link">environment
variables</a>:</li>
</ol>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"LD_LIBRARY_PATH"</span><span class="op">)</span></span>
<span><span class="co"># [1]""</span></span></code></pre></div>
<p>Note that if the output is not empty, like in the example above,
write down the output.</p>
<ol start="2" style="list-style-type: decimal">
<li>Set the new <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/EnvVar.html" class="external-link">environment
variables</a> by adding <code>/usr/local/lib/</code> to the output
above:</li>
</ol>
<p>When it’s empty:</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># in R:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>LD_LIBRARY_PATH<span class="op">=</span><span class="st">"/usr/local/lib/"</span><span class="op">)</span></span>
<span><span class="co"># For Linux you could use: /usr/local/lib/:/usr/lib64 </span></span></code></pre></div>
<p>When it’s not, add at the end, separated by <code>:</code></p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>LD_LIBRARY_PATH<span class="op">=</span><span class="st">"/usr/local/lib64/R/lib:/lib:/usr/local/lib64:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-0.amzn2.0.1.x86_64/jre/lib/amd64/server:/usr/local/lib/:/usr/lib64"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Long-term solution:</strong></p>
<p>Instead of using <code>Sys.setenv</code> each time you have a similar
problem, you could add the <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/EnvVar.html" class="external-link">environment
variables</a> <code>LD_LIBRARY_PATH</code> to your
<code>.Renviron file</code>. <a href="#Renviron">This is discussed in
another problem above</a>.</p>
</div>
<div class="section level3">
<h3 id="sfprob">Error related to <a href="https://r-spatial.github.io/sf/" class="external-link">sf</a>
and <code>dyn.load</code><a class="anchor" aria-label="anchor" href="#sfprob"></a>
</h3>
<p>Sometimes the problem related to <a href="#Dynload">dyn.load
problems</a> originates from specific packages. So far, for me, they are
always linked to <a href="https://r-spatial.github.io/sf/" class="external-link">sf</a>
package. The problem for macOS is usually when updating os, e.g. from
Catalina -&gt; Big Sur. The solution is similar for <a href="https://thierrygosselin.github.io/RADseq_cloud_tutorial/radseq_cloud_tutorial.html#install_packages" class="external-link">Linux
when you try to install adegenet</a>.</p>
<p>There are solutions using <em>Homebrew</em>, but I’m not a fan for
the shortcuts.</p>
<p><em>brewless</em> version to execute in the terminal:</p>
<p><a href="https://www.unidata.ucar.edu/software/udunits/" class="external-link">udunits</a></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-L</span> https://artifacts.unidata.ucar.edu/repository/downloads-udunits/current/udunits-2.2.28.tar.gz <span class="kw">|</span> <span class="fu">tar</span> xf <span class="at">-</span></span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a><span class="bu">cd</span> udunits<span class="pp">*</span></span>
<span id="cb38-4"><a href="#cb38-4" tabindex="-1"></a><span class="ex">./configure</span> <span class="kw">&amp;&amp;</span> <span class="fu">make</span> <span class="at">-j56</span> <span class="kw">&amp;&amp;</span> <span class="fu">sudo</span> make install</span>
<span id="cb38-5"><a href="#cb38-5" tabindex="-1"></a><span class="bu">cd</span> ..</span>
<span id="cb38-6"><a href="#cb38-6" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> udunits<span class="pp">*</span></span></code></pre></div>
<p><a href="https://www.sqlite.org" class="external-link">sqlite</a></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-L</span> https://www.sqlite.org/2022/sqlite-autoconf-3390400.tar.gz <span class="kw">|</span> <span class="fu">tar</span> xf <span class="at">-</span></span>
<span id="cb39-3"><a href="#cb39-3" tabindex="-1"></a><span class="bu">cd</span> sqlite-autoconf<span class="pp">*</span></span>
<span id="cb39-4"><a href="#cb39-4" tabindex="-1"></a><span class="ex">./configure</span> <span class="kw">&amp;&amp;</span> <span class="fu">make</span> <span class="at">-j56</span> <span class="kw">&amp;&amp;</span> <span class="fu">sudo</span> make install</span>
<span id="cb39-5"><a href="#cb39-5" tabindex="-1"></a><span class="bu">cd</span> ..</span>
<span id="cb39-6"><a href="#cb39-6" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> sqlite-autoconf<span class="pp">*</span></span></code></pre></div>
<p><a href="http://libtiff.maptools.org" class="external-link">libtiff</a></p>
<div class="sourceCode" id="cb40"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-L</span> https://download.osgeo.org/libtiff/tiff-4.4.0.tar.gz <span class="kw">|</span> <span class="fu">tar</span> xf <span class="at">-</span></span>
<span id="cb40-3"><a href="#cb40-3" tabindex="-1"></a><span class="bu">cd</span> tiff<span class="pp">*</span></span>
<span id="cb40-4"><a href="#cb40-4" tabindex="-1"></a><span class="ex">./configure</span> <span class="kw">&amp;&amp;</span> <span class="fu">make</span> <span class="at">-j56</span> <span class="kw">&amp;&amp;</span> <span class="fu">sudo</span> make install</span>
<span id="cb40-5"><a href="#cb40-5" tabindex="-1"></a><span class="bu">cd</span> ..</span>
<span id="cb40-6"><a href="#cb40-6" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> tiff<span class="pp">*</span></span></code></pre></div>
<p><a href="https://proj.org/about.html" class="external-link">proj</a></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-L</span>  https://download.osgeo.org/proj/proj-9.1.0.tar.gz <span class="kw">|</span> <span class="fu">tar</span> xf <span class="at">-</span></span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a><span class="bu">cd</span> proj<span class="pp">*</span></span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a><span class="fu">mkdir</span> build</span>
<span id="cb41-5"><a href="#cb41-5" tabindex="-1"></a><span class="bu">cd</span> build</span>
<span id="cb41-6"><a href="#cb41-6" tabindex="-1"></a><span class="fu">cmake</span> ..</span>
<span id="cb41-7"><a href="#cb41-7" tabindex="-1"></a><span class="fu">cmake</span> <span class="at">--build</span> .</span>
<span id="cb41-8"><a href="#cb41-8" tabindex="-1"></a><span class="fu">sudo</span> cmake <span class="at">--build</span> . <span class="at">--target</span> install</span>
<span id="cb41-9"><a href="#cb41-9" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb41-10"><a href="#cb41-10" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> proj<span class="pp">*</span></span>
<span id="cb41-11"><a href="#cb41-11" tabindex="-1"></a><span class="co"># with prior releases, when configure was necessary</span></span>
<span id="cb41-12"><a href="#cb41-12" tabindex="-1"></a><span class="co"># ./configure --libdir=/usr/local/lib &amp;&amp; make -j56 &amp;&amp; sudo make install </span></span></code></pre></div>
<p><a href="https://gdal.org" class="external-link">GDAL</a></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="bu">export</span> <span class="va">LDFLAGS</span><span class="op">=</span><span class="st">"-L/usr/local/lib"</span></span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a><span class="bu">export</span> <span class="va">CPPFLAGS</span><span class="op">=</span><span class="st">"-I/usr/local/include"</span></span>
<span id="cb42-3"><a href="#cb42-3" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb42-5"><a href="#cb42-5" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-L</span> https://github.com/OSGeo/gdal/releases/download/v3.5.3/gdal-3.5.3.tar.gz <span class="kw">|</span> <span class="fu">tar</span> xf <span class="at">-</span></span>
<span id="cb42-6"><a href="#cb42-6" tabindex="-1"></a><span class="bu">cd</span> gdal<span class="pp">*</span></span>
<span id="cb42-7"><a href="#cb42-7" tabindex="-1"></a><span class="fu">mkdir</span> build</span>
<span id="cb42-8"><a href="#cb42-8" tabindex="-1"></a><span class="bu">cd</span> build</span>
<span id="cb42-9"><a href="#cb42-9" tabindex="-1"></a><span class="fu">cmake</span> ..</span>
<span id="cb42-10"><a href="#cb42-10" tabindex="-1"></a><span class="fu">cmake</span> <span class="at">--build</span> .</span>
<span id="cb42-11"><a href="#cb42-11" tabindex="-1"></a><span class="fu">sudo</span> cmake <span class="at">--build</span> . <span class="at">--target</span> install</span>
<span id="cb42-12"><a href="#cb42-12" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb42-13"><a href="#cb42-13" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> gdal<span class="pp">*</span></span>
<span id="cb42-14"><a href="#cb42-14" tabindex="-1"></a><span class="co"># previous install command required</span></span>
<span id="cb42-15"><a href="#cb42-15" tabindex="-1"></a><span class="co">#./configure --prefix=/usr/local --libdir=/usr/local/lib --with-proj=/usr/local &amp;&amp; make -j56 &amp;&amp; sudo make install #time for coffee...</span></span></code></pre></div>
<p><a href="https://trac.osgeo.org/geos" class="external-link">GEOS</a></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a><span class="fu">git</span> clone https://git.osgeo.org/gitea/geos/geos.git</span>
<span id="cb43-3"><a href="#cb43-3" tabindex="-1"></a><span class="bu">cd</span> geos<span class="pp">*</span></span>
<span id="cb43-4"><a href="#cb43-4" tabindex="-1"></a><span class="fu">mkdir</span> build</span>
<span id="cb43-5"><a href="#cb43-5" tabindex="-1"></a><span class="bu">cd</span> build</span>
<span id="cb43-6"><a href="#cb43-6" tabindex="-1"></a><span class="fu">cmake</span> ..</span>
<span id="cb43-7"><a href="#cb43-7" tabindex="-1"></a><span class="fu">cmake</span> <span class="at">--build</span> .</span>
<span id="cb43-8"><a href="#cb43-8" tabindex="-1"></a><span class="fu">sudo</span> cmake <span class="at">--build</span> . <span class="at">--target</span> install</span>
<span id="cb43-9"><a href="#cb43-9" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb43-10"><a href="#cb43-10" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> geos<span class="pp">*</span></span>
<span id="cb43-11"><a href="#cb43-11" tabindex="-1"></a><span class="co"># previous install command required</span></span>
<span id="cb43-12"><a href="#cb43-12" tabindex="-1"></a><span class="co">#./autogen.sh</span></span>
<span id="cb43-13"><a href="#cb43-13" tabindex="-1"></a><span class="co">#./configure --libdir=/usr/local/lib &amp;&amp; make -j56 &amp;&amp; sudo make install</span></span></code></pre></div>
<p><strong>Back in R/RStudio</strong></p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rgeos"</span>, repos<span class="op">=</span><span class="st">"http://R-Forge.R-project.org"</span>, type<span class="op">=</span><span class="st">"source"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rgdal"</span>, repos<span class="op">=</span><span class="st">"http://R-Forge.R-project.org"</span>, type<span class="op">=</span><span class="st">"source"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"r-spatial/sf"</span>, configure.args <span class="op">=</span> <span class="st">"--with-proj-lib=/usr/local"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"adegenet"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="error-c-stacks-usage">Error: <code>C stacks usage</code><a class="anchor" aria-label="anchor" href="#error-c-stacks-usage"></a>
</h3>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a>Error<span class="sc">:</span> C stack usage  <span class="dv">7971092</span> is too close to the limit</span></code></pre></div>
<p>So far, I haven’t found the cure to this computer-specific
problem.</p>
<p><strong>Potential solutions:</strong></p>
<ul>
<li>Make sure you have enough RAM on your computer for the dataset you
want to analyze (16GB is the bare minimum these days for small-medium
RADseq dataset).</li>
<li>Closing all windows/app running in the background somtimes
help.</li>
<li>Updating to the latest version of R, RStudio and libraries.</li>
<li>Not a fan of upgrading to latest version, use <a href="https://rstudio.github.io/packrat/" class="external-link">Packrat</a>.</li>
<li>Follow the guidelines to prepare your computer in this vignette,
from the start…</li>
</ul>
</div>
<div class="section level3">
<h3 id="google-is-your-next-best-friend">Google is your next best friend…<a class="anchor" aria-label="anchor" href="#google-is-your-next-best-friend"></a>
</h3>
</div>
</div>
<div class="section level2">
<h2 id="specific-librairies-installation">Specific librairies installation<a class="anchor" aria-label="anchor" href="#specific-librairies-installation"></a>
</h2>
<div class="section level3">
<h3 id="fst-fstcore-data-table">
<code>fst</code> &amp; <code>fstcore</code> &amp;
<code>data.table</code><a class="anchor" aria-label="anchor" href="#fst-fstcore-data-table"></a>
</h3>
<p>Better to install and compile them from source to enable OpenMP.
Install in the terminal <a href="https://facebook.github.io/zstd/" class="external-link">zstd</a> and <a href="https://lz4.github.io/lz4/" class="external-link">lz4</a>:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-L</span> https://github.com/lz4/lz4/archive/refs/tags/v1.9.4.tar.gz <span class="kw">|</span> <span class="fu">tar</span> xf <span class="at">-</span></span>
<span id="cb46-3"><a href="#cb46-3" tabindex="-1"></a><span class="bu">cd</span> lz4<span class="pp">*</span></span>
<span id="cb46-4"><a href="#cb46-4" tabindex="-1"></a><span class="fu">make</span> </span>
<span id="cb46-5"><a href="#cb46-5" tabindex="-1"></a><span class="fu">sudo</span> make install</span>
<span id="cb46-6"><a href="#cb46-6" tabindex="-1"></a><span class="bu">cd</span> .. </span>
<span id="cb46-7"><a href="#cb46-7" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> lz4<span class="pp">*</span></span></code></pre></div>
<div class="sourceCode" id="cb47"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb47-2"><a href="#cb47-2" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-L</span> https://github.com/facebook/zstd/archive/refs/tags/v1.5.5.tar.gz <span class="kw">|</span> <span class="fu">tar</span> xf <span class="at">-</span></span>
<span id="cb47-3"><a href="#cb47-3" tabindex="-1"></a><span class="bu">cd</span> zstd<span class="pp">*</span></span>
<span id="cb47-4"><a href="#cb47-4" tabindex="-1"></a><span class="fu">make</span> </span>
<span id="cb47-5"><a href="#cb47-5" tabindex="-1"></a><span class="fu">sudo</span> make install</span>
<span id="cb47-6"><a href="#cb47-6" tabindex="-1"></a><span class="bu">cd</span> .. </span>
<span id="cb47-7"><a href="#cb47-7" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> zstd<span class="pp">*</span></span></code></pre></div>
<p><code>fstcore</code>, <code>fst</code> and <code>data.table</code>
requires these R <em>Makevars</em> specifications. If you have other
lines, comment (<code>#</code>) before saving and installing from
source:</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">edit_r_makevars</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="co">#fstcore fst data.table</span></span>
<span id="cb49-2"><a href="#cb49-2" tabindex="-1"></a>CC<span class="ot">=</span><span class="er">/</span>usr<span class="sc">/</span>local<span class="sc">/</span>bin<span class="sc">/</span>gcc <span class="sc">-</span>fopenmp</span>
<span id="cb49-3"><a href="#cb49-3" tabindex="-1"></a>CXX<span class="ot">=</span><span class="er">/</span>usr<span class="sc">/</span>local<span class="sc">/</span>bin<span class="sc">/</span>g<span class="sc">++</span> <span class="sc">-</span>fopenmp</span>
<span id="cb49-4"><a href="#cb49-4" tabindex="-1"></a>CXX11<span class="ot">=</span><span class="er">/</span>usr<span class="sc">/</span>local<span class="sc">/</span>bin<span class="sc">/</span>g<span class="sc">++</span> <span class="sc">-</span>fopenmp</span>
<span id="cb49-5"><a href="#cb49-5" tabindex="-1"></a>CXX14<span class="ot">=</span><span class="er">/</span>usr<span class="sc">/</span>local<span class="sc">/</span>bin<span class="sc">/</span>g<span class="sc">++</span> <span class="sc">-</span>fopenmp</span>
<span id="cb49-6"><a href="#cb49-6" tabindex="-1"></a>CXX17<span class="ot">=</span><span class="er">/</span>usr<span class="sc">/</span>local<span class="sc">/</span>bin<span class="sc">/</span>g<span class="sc">++</span> <span class="sc">-</span>fopenmp</span>
<span id="cb49-7"><a href="#cb49-7" tabindex="-1"></a>CXX1X<span class="ot">=</span><span class="er">/</span>usr<span class="sc">/</span>local<span class="sc">/</span>bin<span class="sc">/</span>g<span class="sc">++</span> <span class="sc">-</span>fopenmp</span>
<span id="cb49-8"><a href="#cb49-8" tabindex="-1"></a>CXX98<span class="ot">=</span><span class="er">/</span>usr<span class="sc">/</span>local<span class="sc">/</span>bin<span class="sc">/</span>g<span class="sc">++</span> <span class="sc">-</span>fopenmp</span></code></pre></div>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"fstcore"</span>, type <span class="op">=</span> <span class="st">"source"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"fst"</span>, type <span class="op">=</span> <span class="st">"source"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"data.table"</span>, type <span class="op">=</span> <span class="st">"source"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="rmetasim">
<code>rmetasim</code><a class="anchor" aria-label="anchor" href="#rmetasim"></a>
</h3>
<div class="section level4">
<h4 id="download">Download<a class="anchor" aria-label="anchor" href="#download"></a>
</h4>
<p>Download the latest github release of Allan Strand’s <a href="https://github.com/stranda/rmetasim" class="external-link">rmetasim</a></p>
<div class="sourceCode" id="cb51"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb51-2"><a href="#cb51-2" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-L</span> <span class="at">-O</span> https://github.com/stranda/rmetasim/archive/master.zip</span>
<span id="cb51-3"><a href="#cb51-3" tabindex="-1"></a><span class="fu">unzip</span> master.zip</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="modify-the-number-of-loci-maxloci">Modify the number of loci: MAXLOCI<a class="anchor" aria-label="anchor" href="#modify-the-number-of-loci-maxloci"></a>
</h4>
<p>If you want to use more loci during your simulations (default is
10001), you need to modify rmetasim before compiling. With a text
editor, modify the <code>const.h</code> file in the <code>src</code>
folder: <code>rmetasim-master/src/const.h</code>. Navigate to
<strong>lane 33</strong> and change the integer to the desired maximum
number of loci. Or do this in the Terminal:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a><span class="fu">sed</span> <span class="at">-i</span> <span class="at">-e</span> <span class="st">'s/#define MAXLOCI               10001/#define MAXLOCI               20000/g'</span> rmetasim-master/src/const.h</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="Makevars_config">Makevars configuration<a class="anchor" aria-label="anchor" href="#Makevars_config"></a>
</h4>
<p><em>rmetasim</em> requires these Makevars (<code>~/.R/Makevars</code>
file) specifications. If you have other lines, comment (#) before
compiling <code>rmetasim</code>:</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">edit_r_makevars</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><strong>macOS</strong></p>
<p>This latest os requires extra lines:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a><span class="va">CC</span><span class="op">=</span>/usr/local/bin/clang</span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a><span class="va">CXX</span><span class="op">=</span>/usr/local/bin/clang++</span>
<span id="cb54-3"><a href="#cb54-3" tabindex="-1"></a><span class="va">CXX1X</span><span class="op">=</span>/usr/local/bin/clang++</span>
<span id="cb54-4"><a href="#cb54-4" tabindex="-1"></a><span class="va">FLIBS</span><span class="op">=</span>-L/usr/local/lib</span>
<span id="cb54-5"><a href="#cb54-5" tabindex="-1"></a><span class="va">LDFLAGS</span><span class="op">=</span>-L/usr/local/lib</span>
<span id="cb54-6"><a href="#cb54-6" tabindex="-1"></a><span class="va">SHLIB_OPENMP_CFLAGS</span><span class="op">=</span> <span class="ex">-fopenmp</span></span>
<span id="cb54-7"><a href="#cb54-7" tabindex="-1"></a><span class="va">SHLIB_OPENMP_FCFLAGS</span><span class="op">=</span> <span class="ex">-fopenmp</span></span>
<span id="cb54-8"><a href="#cb54-8" tabindex="-1"></a><span class="va">SHLIB_OPENMP_FFLAGS</span><span class="op">=</span> <span class="ex">-fopenmp</span></span>
<span id="cb54-9"><a href="#cb54-9" tabindex="-1"></a><span class="va">SHLIB_OPENMP_CXXFLAGS</span><span class="op">=</span> <span class="ex">-fopenmp</span></span>
<span id="cb54-10"><a href="#cb54-10" tabindex="-1"></a><span class="va">CFLAGS</span><span class="op">+=</span>-isysroot <span class="ex">/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk</span></span>
<span id="cb54-11"><a href="#cb54-11" tabindex="-1"></a><span class="va">CCFLAGS</span><span class="op">+=</span>-isysroot <span class="ex">/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk</span></span>
<span id="cb54-12"><a href="#cb54-12" tabindex="-1"></a><span class="va">CXXFLAGS</span><span class="op">+=</span>-isysroot <span class="ex">/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk</span></span>
<span id="cb54-13"><a href="#cb54-13" tabindex="-1"></a><span class="va">CPPFLAGS</span><span class="op">+=</span>-isysroot <span class="ex">/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="compile">Compile<a class="anchor" aria-label="anchor" href="#compile"></a>
</h4>
<div class="sourceCode" id="cb55"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a><span class="ex">R</span> CMD INSTALL <span class="st">"rmetasim-master"</span> <span class="co"># Terminal command</span></span>
<span id="cb55-2"><a href="#cb55-2" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> rmetasim<span class="pp">*</span> <span class="co"># to remove the folders no longer required</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="xgboost">
<code>XGBoost</code><a class="anchor" aria-label="anchor" href="#xgboost"></a>
</h3>
<div class="section level4">
<h4 id="download-the-github-version">Download the github version<a class="anchor" aria-label="anchor" href="#download-the-github-version"></a>
</h4>
<div class="sourceCode" id="cb56"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a><span class="co"># terminal</span></span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a><span class="bu">cd</span> Downloads</span>
<span id="cb56-3"><a href="#cb56-3" tabindex="-1"></a><span class="fu">git</span> clone <span class="at">--recursive</span> https://github.com/dmlc/xgboost</span>
<span id="cb56-4"><a href="#cb56-4" tabindex="-1"></a><span class="bu">cd</span> xgboost</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="error">Error?<a class="anchor" aria-label="anchor" href="#error"></a>
</h4>
<p>If you’re getting this error:
<code>"https" not supported or disabled in libcurl</code>, extra steps
are required, <a href="#Installation_problems">check the installation
problems section</a> to install <code>OpenSSL</code> and
<code>curl</code> and enabling <code>https</code> with
<code>--with-ssl</code> option.</p>
</div>
<div class="section level4">
<h4 id="modification">Modification<a class="anchor" aria-label="anchor" href="#modification"></a>
</h4>
<p>Modify in a text editor the <code>configure</code> file inside the
<code>xgboost/R-package</code> folder:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" tabindex="-1"></a><span class="co"># Go to line 1676</span></span>
<span id="cb57-2"><a href="#cb57-2" tabindex="-1"></a><span class="co"># change</span></span>
<span id="cb57-3"><a href="#cb57-3" tabindex="-1"></a><span class="va">ac_pkg_openmp</span><span class="op">=</span>no</span>
<span id="cb57-4"><a href="#cb57-4" tabindex="-1"></a><span class="co"># to</span></span>
<span id="cb57-5"><a href="#cb57-5" tabindex="-1"></a><span class="va">ac_pkg_openmp</span><span class="op">=</span>yes</span>
<span id="cb57-6"><a href="#cb57-6" tabindex="-1"></a><span class="co">#save the file under the same name</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="makevars-configuration">Makevars configuration<a class="anchor" aria-label="anchor" href="#makevars-configuration"></a>
</h4>
<p><code>XGBoost</code> requires these Makevars specifications. If you
have other lines, comment (#) before compiling:</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">edit_r_makevars</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb59"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb59-1"><a href="#cb59-1" tabindex="-1"></a><span class="va">CC</span><span class="op">=</span>/usr/local/bin/gcc</span>
<span id="cb59-2"><a href="#cb59-2" tabindex="-1"></a><span class="va">CXX</span><span class="op">=</span>/usr/local/bin/g++</span>
<span id="cb59-3"><a href="#cb59-3" tabindex="-1"></a><span class="va">CXX11</span><span class="op">=</span>/usr/local/bin/g++</span>
<span id="cb59-4"><a href="#cb59-4" tabindex="-1"></a><span class="va">CXX14</span><span class="op">=</span>/usr/local/bin/g++</span>
<span id="cb59-5"><a href="#cb59-5" tabindex="-1"></a><span class="va">CXX17</span><span class="op">=</span>/usr/local/bin/g++</span>
<span id="cb59-6"><a href="#cb59-6" tabindex="-1"></a><span class="va">SHLIB_OPENMP_CFLAGS</span><span class="op">=</span> <span class="ex">-fopenmp</span></span>
<span id="cb59-7"><a href="#cb59-7" tabindex="-1"></a><span class="va">SHLIB_OPENMP_FCFLAGS</span><span class="op">=</span> <span class="ex">-fopenmp</span></span>
<span id="cb59-8"><a href="#cb59-8" tabindex="-1"></a><span class="va">SHLIB_OPENMP_FFLAGS</span><span class="op">=</span> <span class="ex">-fopenmp</span></span>
<span id="cb59-9"><a href="#cb59-9" tabindex="-1"></a><span class="va">SHLIB_OPENMP_CXXFLAGS</span><span class="op">=</span> <span class="ex">-fopenmp</span></span>
<span id="cb59-10"><a href="#cb59-10" tabindex="-1"></a><span class="va">CFLAGS</span><span class="op">=</span>-g <span class="ex">-O3</span> <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-std</span><span class="op">=</span>gnu99 <span class="at">-mtune</span><span class="op">=</span>native <span class="at">-pipe</span></span>
<span id="cb59-11"><a href="#cb59-11" tabindex="-1"></a><span class="va">CXXFLAGS</span><span class="op">=</span>-g <span class="ex">-O3</span> <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-std</span><span class="op">=</span>c++11 <span class="at">-mtune</span><span class="op">=</span>native <span class="at">-pipe</span></span>
<span id="cb59-12"><a href="#cb59-12" tabindex="-1"></a><span class="va">LDFLAGS</span><span class="op">=</span>-L/usr/local/lib <span class="ex">-Wl,-rpath,/usr/local/lib</span></span>
<span id="cb59-13"><a href="#cb59-13" tabindex="-1"></a><span class="va">CPPFLAGS</span><span class="op">=</span>-I/usr/local/include <span class="ex">-I/usr/local/include</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="compile-1">Compile<a class="anchor" aria-label="anchor" href="#compile-1"></a>
</h4>
<div class="sourceCode" id="cb60"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a><span class="fu">sudo</span> R CMD INSTALL R-package</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="test-r-package">Test R-package<a class="anchor" aria-label="anchor" href="#test-r-package"></a>
</h4>
<p>You should see a time difference between both runs</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dmlc/xgboost" class="external-link">xgboost</a></span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">*</span><span class="fl">10000</span><span class="op">)</span>, <span class="fl">10000</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span>  <span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1000</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="op">{</span><span class="va">bst</span> <span class="op">=</span> <span class="fu">xgboost</span><span class="op">(</span>data <span class="op">=</span> <span class="va">x</span>, label <span class="op">=</span> <span class="va">y</span>, nthread <span class="op">=</span> <span class="fl">1</span>, nround <span class="op">=</span> <span class="fl">100</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="op">{</span><span class="va">bst</span> <span class="op">=</span> <span class="fu">xgboost</span><span class="op">(</span>data <span class="op">=</span> <span class="va">x</span>, label <span class="op">=</span> <span class="va">y</span>, nthread <span class="op">=</span> <span class="fl">4</span>, nround <span class="op">=</span> <span class="fl">100</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="lightgbm">
<code>LightGBM</code><a class="anchor" aria-label="anchor" href="#lightgbm"></a>
</h3>
<p><code>LightGBM</code> requires an OpenMP-enabled compiler. Currently,
it doesn’t work well with clang, so make sure you have updated your GCC
compiler (instructions above). Additionally, <code>LightGBM</code>
requires <a href="https://cmake.org/overview/" class="external-link">CMake</a></p>
<div class="section level4">
<h4 id="download-and-install-cmake">Download and install CMake<a class="anchor" aria-label="anchor" href="#download-and-install-cmake"></a>
</h4>
<div class="sourceCode" id="cb62"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a><span class="co">#In browser or using curl in Terminal</span></span>
<span id="cb62-2"><a href="#cb62-2" tabindex="-1"></a><span class="ex">https://cmake.org/files/v3.12/cmake-3.12.2-Darwin-x86_64.dmg</span></span>
<span id="cb62-3"><a href="#cb62-3" tabindex="-1"></a><span class="co"># double-click on the disk image and follow instructions</span></span></code></pre></div>
<p>To add CMake to the PATH:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb63-1"><a href="#cb63-1" tabindex="-1"></a><span class="va">PATH</span><span class="op">=</span><span class="st">"/Applications/CMake.app/Contents/bin"</span>:<span class="st">"</span><span class="va">$PATH</span><span class="st">"</span></span>
<span id="cb63-2"><a href="#cb63-2" tabindex="-1"></a><span class="co"># Or, to install symlinks to '/usr/local/bin', run:</span></span>
<span id="cb63-3"><a href="#cb63-3" tabindex="-1"></a><span class="fu">sudo</span> <span class="st">"/Applications/CMake.app/Contents/bin/cmake-gui"</span> <span class="at">--install</span></span>
<span id="cb63-4"><a href="#cb63-4" tabindex="-1"></a><span class="co"># Or, to install symlinks to another directory, run:</span></span>
<span id="cb63-5"><a href="#cb63-5" tabindex="-1"></a><span class="fu">sudo</span> <span class="st">"/Applications/CMake.app/Contents/bin/cmake-gui"</span> <span class="at">--install</span><span class="op">=</span>/path/to/bin</span>
<span id="cb63-6"><a href="#cb63-6" tabindex="-1"></a><span class="co">#Then, run the following commands to install LightGBM:</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="download-and-install-lightgbm">Download and Install LightGBM<a class="anchor" aria-label="anchor" href="#download-and-install-lightgbm"></a>
</h4>
<div class="sourceCode" id="cb64"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a><span class="bu">cd</span> Downloads</span>
<span id="cb64-2"><a href="#cb64-2" tabindex="-1"></a><span class="fu">git</span> clone <span class="at">--recursive</span> https://github.com/Microsoft/LightGBM</span>
<span id="cb64-3"><a href="#cb64-3" tabindex="-1"></a><span class="bu">cd</span> LightGBM</span>
<span id="cb64-4"><a href="#cb64-4" tabindex="-1"></a><span class="ex">Rscript</span> build_r.R</span>
<span id="cb64-5"><a href="#cb64-5" tabindex="-1"></a><span class="co"># previous version required running these lines instead</span></span>
<span id="cb64-6"><a href="#cb64-6" tabindex="-1"></a><span class="co">#cd LightGBM/R-package</span></span>
<span id="cb64-7"><a href="#cb64-7" tabindex="-1"></a><span class="co">#export CC=/usr/local/bin/gcc CXX=/usr/local/bin/g++</span></span>
<span id="cb64-8"><a href="#cb64-8" tabindex="-1"></a><span class="co">#R CMD INSTALL --build . --no-multiarch</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="randomforestsrc">
<code>randomForestSRC</code><a class="anchor" aria-label="anchor" href="#randomforestsrc"></a>
</h3>
<p><a href="http://web.ccs.miami.edu/~hishwaran/ishwaran.html" class="external-link">randomForestSRC</a>
requires the GCC OpenMP-enabled compiler to run in parallel. See
instructions above if not already done.</p>
<div class="section level4">
<h4 id="makevars-configuration-1">Makevars configuration<a class="anchor" aria-label="anchor" href="#makevars-configuration-1"></a>
</h4>
<p>Check that the lines below <strong>are not</strong> commented in your
<code>~/.R/Makevars</code> file:</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">edit_r_makevars</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb66"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="va">CC</span><span class="op">=</span>/usr/local/bin/gcc</span>
<span id="cb66-2"><a href="#cb66-2" tabindex="-1"></a><span class="va">CXX</span><span class="op">=</span>/usr/local/bin/g++</span>
<span id="cb66-3"><a href="#cb66-3" tabindex="-1"></a><span class="va">CFLAGS</span><span class="op">=</span>-g <span class="ex">-O3</span> <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-std</span><span class="op">=</span>gnu99 <span class="at">-mtune</span><span class="op">=</span>native <span class="at">-pipe</span></span>
<span id="cb66-4"><a href="#cb66-4" tabindex="-1"></a><span class="va">CXXFLAGS</span><span class="op">=</span>-g <span class="ex">-O3</span> <span class="at">-Wall</span> <span class="at">-pedantic</span> <span class="at">-std</span><span class="op">=</span>c++11 <span class="at">-mtune</span><span class="op">=</span>native <span class="at">-pipe</span></span>
<span id="cb66-5"><a href="#cb66-5" tabindex="-1"></a><span class="va">PKG_CFLAGS</span><span class="op">=</span> <span class="ex">-O3</span> <span class="at">-Wall</span> <span class="at">-pipe</span> <span class="at">-pedantic</span> <span class="at">-std</span><span class="op">=</span>gnu99 <span class="at">-fopenmp</span></span>
<span id="cb66-6"><a href="#cb66-6" tabindex="-1"></a><span class="va">PKG_CXXFLAGS</span><span class="op">=</span>-fopenmp <span class="ex">-std=c++11</span></span>
<span id="cb66-7"><a href="#cb66-7" tabindex="-1"></a><span class="va">FC</span><span class="op">=</span>/usr/local/bin/gfortran</span>
<span id="cb66-8"><a href="#cb66-8" tabindex="-1"></a><span class="va">F77</span><span class="op">=</span>/usr/local/bin/gfortran</span>
<span id="cb66-9"><a href="#cb66-9" tabindex="-1"></a><span class="va">LDFLAGS</span><span class="op">=</span>-L/usr/local/lib</span>
<span id="cb66-10"><a href="#cb66-10" tabindex="-1"></a><span class="ex">PKG_LIBS</span> = <span class="st">"-liconv"</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="download-and-install">Download and install<a class="anchor" aria-label="anchor" href="#download-and-install"></a>
</h4>
<p>From the Terminal run these steps to download and compile
randomForestSRC:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb67-1"><a href="#cb67-1" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb67-2"><a href="#cb67-2" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-L</span> https://cran.r-project.org/src/contrib/randomForestSRC_2.9.3.tar.gz <span class="kw">|</span> <span class="fu">tar</span> xf <span class="at">-</span></span>
<span id="cb67-3"><a href="#cb67-3" tabindex="-1"></a><span class="bu">cd</span> randomForestSRC</span></code></pre></div>
<p>Make sure you have autoconf installed:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a><span class="co"># in Terminal</span></span>
<span id="cb68-2"><a href="#cb68-2" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb68-3"><a href="#cb68-3" tabindex="-1"></a><span class="fu">autoconf</span></span></code></pre></div>
<p>Should output: <code>autoconf: error: no input file</code>, if not,
install following the <a href="#useful">steps here</a>.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1" tabindex="-1"></a><span class="co"># in Terminal</span></span>
<span id="cb69-2"><a href="#cb69-2" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads/randomForestSRC</span>
<span id="cb69-3"><a href="#cb69-3" tabindex="-1"></a><span class="fu">autoconf</span></span>
<span id="cb69-4"><a href="#cb69-4" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb69-5"><a href="#cb69-5" tabindex="-1"></a><span class="ex">R</span> CMD INSTALL <span class="at">--preclean</span> <span class="at">--clean</span> randomForestSRC</span></code></pre></div>
<p>You want to make sure that this line is printed during execution of
the previous command:
<code>checking whether OpenMP will work in a package... yes</code> or
<code>checking for /usr/local/bin/gcc option to support OpenMP... -fopenmp</code></p>
</div>
</div>
<div class="section level3">
<h3 id="ranger">
<code>ranger</code><a class="anchor" aria-label="anchor" href="#ranger"></a>
</h3>
<p><a href="https://github.com/imbs-hl/ranger" class="external-link">ranger</a> is easy to
install.</p>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"ranger"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="missranger">
<code>missRanger</code><a class="anchor" aria-label="anchor" href="#missranger"></a>
</h3>
<p><a href="https://github.com/mayer79/missRanger" class="external-link">missRanger</a> is
also very easy to install.</p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"missRanger"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="miceranger">
<code>miceRanger</code><a class="anchor" aria-label="anchor" href="#miceranger"></a>
</h3>
<p><a href="https://github.com/FarrellDay/miceRanger" class="external-link">miceRanger</a>
easy to install.</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"miceRanger"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pcamethods">
<code>pcaMethods</code><a class="anchor" aria-label="anchor" href="#pcamethods"></a>
</h3>
<p>To install <a href="https://github.com/hredestig/pcaMethods" class="external-link">pcaMethods</a>, from
bioconductor:</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://bioconductor.github.io/BiocManager/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="st">"pcaMethods"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fastsimcoal2">
<code>fastsimcoal2</code><a class="anchor" aria-label="anchor" href="#fastsimcoal2"></a>
</h3>
<p>To install <a href="http://cmpg.unibe.ch/software/fastsimcoal2/" class="external-link">fastsimcoal2
v.2.6.0.3</a>, to use in <code><a href="https://thierrygosselin.github.io/grur/reference/simulate_rad.html" class="external-link">grur::simulate_rad</a></code>:</p>
<div class="section level4">
<h4 id="linux-1">LINUX<a class="anchor" aria-label="anchor" href="#linux-1"></a>
</h4>
<div class="sourceCode" id="cb74"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb74-1"><a href="#cb74-1" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-O</span> http://cmpg.unibe.ch/software/fastsimcoal2/downloads/fsc26_linux64.zip</span>
<span id="cb74-2"><a href="#cb74-2" tabindex="-1"></a><span class="fu">unzip</span> fsc26_linux64.zip</span>
<span id="cb74-3"><a href="#cb74-3" tabindex="-1"></a><span class="fu">sudo</span> mv fsc26_linux64/fsc26 /usr/local/bin/fsc26 <span class="co"># will ask for your computer password</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="macos-1">MacOS<a class="anchor" aria-label="anchor" href="#macos-1"></a>
</h4>
<div class="sourceCode" id="cb75"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb75-1"><a href="#cb75-1" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb75-2"><a href="#cb75-2" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-O</span> http://cmpg.unibe.ch/software/fastsimcoal2/downloads/fsc26_mac64.zip</span>
<span id="cb75-3"><a href="#cb75-3" tabindex="-1"></a><span class="fu">unzip</span> fsc26_mac64.zip</span>
<span id="cb75-4"><a href="#cb75-4" tabindex="-1"></a><span class="fu">sudo</span> mv fsc26_mac64/fsc26 /usr/local/bin/fsc26 <span class="co"># will ask for your computer password</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="common-to-both-os">Common to both OS:<a class="anchor" aria-label="anchor" href="#common-to-both-os"></a>
</h4>
<div class="sourceCode" id="cb76"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb76-1"><a href="#cb76-1" tabindex="-1"></a><span class="fu">sudo</span> chmod 777 /usr/local/bin/fsc26</span>
<span id="cb76-2"><a href="#cb76-2" tabindex="-1"></a><span class="ex">fsc26</span></span></code></pre></div>
<p>Re-start R and the software fastsimcoal2 will automatically be in
your PATH…</p>
</div>
<div class="section level4">
<h4 id="path-1">PATH<a class="anchor" aria-label="anchor" href="#path-1"></a>
</h4>
<p>To see the path of the installation, in the
<code>Terminal</code>:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb77-1"><a href="#cb77-1" tabindex="-1"></a><span class="fu">which</span> fsc26</span>
<span id="cb77-2"><a href="#cb77-2" tabindex="-1"></a><span class="co"># in macOS:</span></span>
<span id="cb77-3"><a href="#cb77-3" tabindex="-1"></a><span class="co"># /usr/local/bin/fsc26</span></span></code></pre></div>
<p>If that doesn’t work, do:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb78-1"><a href="#cb78-1" tabindex="-1"></a><span class="bu">source</span> ~/.bash_profile</span></code></pre></div>
<p>Remove the files in the folder:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb79-1"><a href="#cb79-1" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> ~/Downloads/fsc26_mac64<span class="pp">*</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="colony">
<code>COLONY</code><a class="anchor" aria-label="anchor" href="#colony"></a>
</h3>
<p>To install <a href="https://www.zsl.org/science/software/colony" class="external-link">COLONY 30/07/2018,
V2.0.6.5</a>:</p>
<div class="section level4">
<h4 id="macos-2">MacOS<a class="anchor" aria-label="anchor" href="#macos-2"></a>
</h4>
<p>The old openmpi version (openmpi-1.6.5) is required, saddly.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb80-1"><a href="#cb80-1" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb80-2"><a href="#cb80-2" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-L</span> https://download.open-mpi.org/release/open-mpi/v1.6/openmpi-1.6.5.tar.gz <span class="kw">|</span> <span class="fu">tar</span> xf <span class="at">-</span></span>
<span id="cb80-3"><a href="#cb80-3" tabindex="-1"></a><span class="bu">cd</span> openmpi-1.6.5</span>
<span id="cb80-4"><a href="#cb80-4" tabindex="-1"></a><span class="bu">export</span> <span class="va">TMPDIR</span><span class="op">=</span>/tmp</span>
<span id="cb80-5"><a href="#cb80-5" tabindex="-1"></a><span class="ex">./configure</span> F77=gfortran <span class="co">#--prefix=/usr/local -openmp # no longer work for some reason</span></span>
<span id="cb80-6"><a href="#cb80-6" tabindex="-1"></a><span class="fu">make</span> <span class="at">-j</span> 12</span>
<span id="cb80-7"><a href="#cb80-7" tabindex="-1"></a><span class="fu">sudo</span> make install</span>
<span id="cb80-8"><a href="#cb80-8" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> ~/Downloads/openmpi<span class="pp">*</span></span></code></pre></div>
<p>To download COLONY, follow instructions on Jinliang Wang <a href="https://www.zsl.org/science/software/colony" class="external-link">ZSL website</a>. The
file you need to uncompress is named:
<code>colony2.mac_.20180730.zip</code>.</p>
</div>
<div class="section level4">
<h4 id="linux-2">Linux<a class="anchor" aria-label="anchor" href="#linux-2"></a>
</h4>
<p>To download COLONY, follow instructions on Jinliang Wang <a href="https://www.zsl.org/science/software/colony" class="external-link">ZSL website</a>. The
file you need to uncompress is named:
<code>colony2.linux_.20180730.zip</code>.</p>
<p>Several options are available depending on the compiler you have
installed.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="useful">Useful<a class="anchor" aria-label="anchor" href="#useful"></a>
</h2>
<div class="section level3">
<h3 id="update-github">Update <a href="http://en.wikipedia.org/wiki/Github" class="external-link">Github</a><a class="anchor" aria-label="anchor" href="#update-github"></a>
</h3>
<p>macOS comes with <a href="https://github.com" class="external-link">Github</a>, a Version
Control System (VCS), pre-installed. However, the install is in
<code>/usr/bin/git</code> which can make it difficult for beginners to
update. To change this, run these commands:</p>
<ol style="list-style-type: decimal">
<li>Install <a href="http://www.gnu.org/software/autoconf/" class="external-link">GNU
Autoconf</a>
</li>
</ol>
<div class="sourceCode" id="cb81"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb81-1"><a href="#cb81-1" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb81-2"><a href="#cb81-2" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-L</span> http://ftp.gnu.org/gnu/autoconf/autoconf-latest.tar.gz <span class="kw">|</span> <span class="fu">tar</span> xf <span class="at">-</span></span>
<span id="cb81-3"><a href="#cb81-3" tabindex="-1"></a><span class="bu">cd</span> autoconf-2.69</span>
<span id="cb81-4"><a href="#cb81-4" tabindex="-1"></a><span class="ex">./configure</span></span>
<span id="cb81-5"><a href="#cb81-5" tabindex="-1"></a><span class="fu">make</span></span>
<span id="cb81-6"><a href="#cb81-6" tabindex="-1"></a><span class="fu">sudo</span> make install</span>
<span id="cb81-7"><a href="#cb81-7" tabindex="-1"></a><span class="bu">cd</span> .. </span>
<span id="cb81-8"><a href="#cb81-8" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> ~/Downloads/autoconf-<span class="pp">*</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Install Github</li>
</ol>
<div class="sourceCode" id="cb82"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb82-1"><a href="#cb82-1" tabindex="-1"></a><span class="fu">git</span> <span class="at">--version</span>                   <span class="co"># show current git version installed</span></span>
<span id="cb82-2"><a href="#cb82-2" tabindex="-1"></a><span class="fu">which</span> git                       <span class="co"># returns where is git on your computer</span></span>
<span id="cb82-3"><a href="#cb82-3" tabindex="-1"></a><span class="bu">cd</span> ~/Downloads</span>
<span id="cb82-4"><a href="#cb82-4" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/git/git <span class="co"># install the latest Git</span></span>
<span id="cb82-5"><a href="#cb82-5" tabindex="-1"></a><span class="bu">cd</span> git</span>
<span id="cb82-6"><a href="#cb82-6" tabindex="-1"></a><span class="fu">make</span> configure</span>
<span id="cb82-7"><a href="#cb82-7" tabindex="-1"></a><span class="ex">./configure</span></span>
<span id="cb82-8"><a href="#cb82-8" tabindex="-1"></a><span class="fu">make</span> <span class="at">-j12</span></span>
<span id="cb82-9"><a href="#cb82-9" tabindex="-1"></a><span class="fu">sudo</span> make install</span>
<span id="cb82-10"><a href="#cb82-10" tabindex="-1"></a><span class="bu">cd</span> .. </span>
<span id="cb82-11"><a href="#cb82-11" tabindex="-1"></a><span class="fu">sudo</span> rm <span class="at">-R</span> ~/Downloads/git/     <span class="co"># remove git folder</span></span>
<span id="cb82-12"><a href="#cb82-12" tabindex="-1"></a><span class="bu">source</span> ~/.bash_profile          <span class="co"># reload startup script</span></span>
<span id="cb82-13"><a href="#cb82-13" tabindex="-1"></a><span class="fu">git</span> <span class="at">--version</span>                   <span class="co"># confirmed the version you just installed</span></span>
<span id="cb82-14"><a href="#cb82-14" tabindex="-1"></a><span class="fu">which</span> git                       <span class="co"># returns /usr/local/bin</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="macos-terminal-from-specific-folder">macOS Terminal from specific folder<a class="anchor" aria-label="anchor" href="#macos-terminal-from-specific-folder"></a>
</h3>
<p>In <strong>System Preferences</strong> choose
<code>Keyboard -&gt; Shortcuts</code>. From the left panel, choose
<strong>Services</strong>. In the right panel, under <strong>Files and
Folders</strong>, choose <strong>New Terminal at Folder and/or New
Terminal Tab at Folder</strong>. Now you can right-click your track pad
or mouse on a folder and choose Services -&gt; New Terminal at
Folder!</p>
<p><img src="terminal_folder_shortcut.png" width="660"></p>
</div>
<div class="section level3">
<h3 id="shortcut-to-folder-path">Shortcut to folder path<a class="anchor" aria-label="anchor" href="#shortcut-to-folder-path"></a>
</h3>
<p>With macOS, open the <a href="https://support.apple.com/en-ca/guide/automator/welcome/mac" class="external-link">Automator
application</a>.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb83-1"><a href="#cb83-1" tabindex="-1"></a><span class="ex">File</span> <span class="at">-</span><span class="op">&gt;</span> New <span class="er">(</span><span class="ex">cmd-N</span><span class="kw">)</span></span>
<span id="cb83-2"><a href="#cb83-2" tabindex="-1"></a><span class="ex">Choose:</span> Services</span>
<span id="cb83-3"><a href="#cb83-3" tabindex="-1"></a><span class="ex">Left</span> panel, choose: Library <span class="at">-</span><span class="op">&gt;</span> Utilities</span>
<span id="cb83-4"><a href="#cb83-4" tabindex="-1"></a><span class="ex">Middle,</span> choose: Copy to Clipboard and drag it to the right panel</span>
<span id="cb83-5"><a href="#cb83-5" tabindex="-1"></a><span class="ex">Now</span> you want to have: Service receives selected FILES OR FOLDERS in FINDER<span class="op">&gt;</span></span>
<span id="cb83-6"><a href="#cb83-6" tabindex="-1"></a><span class="ex">You</span> should have something similar to the image below:</span></code></pre></div>
<p><img src="copy_path.png" width="994"></p>
<div class="sourceCode" id="cb84"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb84-1"><a href="#cb84-1" tabindex="-1"></a><span class="ex">Save</span> <span class="er">(</span><span class="ex">cmd-S</span><span class="kw">)</span> <span class="ex">or</span> File <span class="at">-</span><span class="op">&gt;</span> Save service as: copy path to clipboard</span></code></pre></div>
<p>Go in the Finder, select a folder and right click on it you should
see ‘copy path to clipboard’ at the bottom or in
<strong>Services</strong>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Thierry Gosselin.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
